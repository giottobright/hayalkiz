# üé¨ –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Runway Gen-4 Turbo

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

–ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω —Å–µ—Ä–≤–∏—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤–∏–¥–µ–æ —Å **Sora 2** (–Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω) –Ω–∞ **Runway Gen-4 Turbo** (–ø—É–±–ª–∏—á–Ω–æ –¥–æ—Å—Ç—É–ø–µ–Ω)!

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á Runway

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://app.runwayml.com/ –∏:
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å/–≤–æ–π–¥–∏—Ç–µ
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Settings ‚Üí API Keys
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π API –∫–ª—é—á
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ–≥–æ

### 2. –î–æ–±–∞–≤—å—Ç–µ –∫–ª—é—á –≤ keys.env

```bash
cd back
nano keys.env
```

–î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É:
```env
RUNWAY_API_KEY=–≤–∞—à_–∫–ª—é—á_–∑–¥–µ—Å—å
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π OpenAI –∫–ª—é—á (fallback).

### 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

```bash
cd back
python start.py
```

### 4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤ Telegram!

1. –°–æ–∑–¥–∞–π—Ç–µ —Å–µ–ª—Ñ–∏
2. –ù–∞–∂–º–∏—Ç–µ "üé¨ Video g√∂nder"
3. –í—ã–±–µ—Ä–∏—Ç–µ "–ò–∑ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–µ–ª—Ñ–∏"
4. –ü–æ–ª—É—á–∏—Ç–µ –≤–∏–¥–µ–æ!

---

## üìä –ò–∑–º–µ–Ω–µ–Ω–∏—è

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
- ‚úÖ `back/app/services_runway.py` - Runway API —Å–µ—Ä–≤–∏—Å

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- ‚úÖ `back/app/main.py` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è RunwayService –≤–º–µ—Å—Ç–æ SoraService
- ‚úÖ `back/app/config.py` - –¥–æ–±–∞–≤–ª–µ–Ω runway_api_key
- ‚úÖ `back/keys.example.env` - –¥–æ–±–∞–≤–ª–µ–Ω RUNWAY_API_KEY

### –£–¥–∞–ª–µ–Ω–Ω—ã–µ:
- ‚ùå `back/app/services_sora.py` - –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω (–º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å)

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### Runway Gen-4 Turbo API

**Endpoint**: `https://api.dev.runwayml.com/v1/image_to_video`

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
```json
{
  "promptText": "–æ–ø–∏—Å–∞–Ω–∏–µ –≤–∏–¥–µ–æ",
  "promptImage": "data:image/jpeg;base64,...",
  "model": "gen4-turbo",
  "duration": 4,
  "ratio": "9:16"
}
```

**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: 4, 8 —Å–µ–∫—É–Ω–¥ (–º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º 4)

**–°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω**:
- `9:16` - –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ (720x1280)
- `16:9` - –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ (1280x720)

### –ü—Ä–æ—Ü–µ—Å—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:

1. POST –∑–∞–ø—Ä–æ—Å ‚Üí –ø–æ–ª—É—á–∞–µ–º task ID
2. Polling –∫–∞–∂–¥—ã–µ 3 —Å–µ–∫—É–Ω–¥—ã
3. –ö–æ–≥–¥–∞ status = "succeeded" ‚Üí —Å–∫–∞—á–∏–≤–∞–µ–º –≤–∏–¥–µ–æ

---

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å

Runway Gen-4 Turbo:
- **~$0.05-0.10** –∑–∞ 4-—Å–µ–∫—É–Ω–¥–Ω–æ–µ –≤–∏–¥–µ–æ
- **–ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –¥–µ—à–µ–≤–ª–µ** —á–µ–º Sora 2
- **–ü—É–±–ª–∏—á–Ω–æ –¥–æ—Å—Ç—É–ø–µ–Ω!**

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è**:
```env
RUNWAY_API_KEY=–≤–∞—à_–∫–ª—é—á
```

**–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è** (fallback –Ω–∞ OPENAI_API_KEY):
–ï—Å–ª–∏ RUNWAY_API_KEY –Ω–µ —É–∫–∞–∑–∞–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è OPENAI_API_KEY.

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤–∏–¥–µ–æ:

–í `main.py`:
```python
video_bytes = await runway_service.generate_video(
    prompt=video_prompt,
    image_bytes=selfie_bytes,
    duration=4,  # 4 –∏–ª–∏ 8 —Å–µ–∫—É–Ω–¥
    size="720x1280",  # –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ
    model="gen4-turbo"
)
```

---

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Runway

### ‚úÖ –ü–ª—é—Å—ã:
- üåê **–ü—É–±–ª–∏—á–Ω–æ –¥–æ—Å—Ç—É–ø–µ–Ω** - –Ω–µ –Ω—É–∂–Ω–æ –∂–¥–∞—Ç—å –±–µ—Ç–∞-–¥–æ—Å—Ç—É–ø–∞
- üí∞ **–î–µ—à–µ–≤–ª–µ** - ~$0.05-0.10 –∑–∞ –≤–∏–¥–µ–æ
- ‚ö° **–ë—ã—Å—Ç—Ä–µ–µ** - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è ~30-60 —Å–µ–∫—É–Ω–¥
- üìö **–•–æ—Ä–æ—à–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - https://docs.dev.runwayml.com/
- üé¨ **–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –≤–∏–¥–µ–æ** - Gen-4 Turbo —ç—Ç–æ –ø–æ—Å–ª–µ–¥–Ω—è—è –º–æ–¥–µ–ª—å

### ‚ö†Ô∏è –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- ‚è±Ô∏è **–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: —Ç–æ–ª—å–∫–æ 4 –∏–ª–∏ 8 —Å–µ–∫—É–Ω–¥ (–º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º 4)
- üìê **Aspect ratio**: 9:16 –∏–ª–∏ 16:9 (–º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º 9:16 –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ)

---

## üîÑ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

### –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:
‚úÖ **–î–ê!** –í–µ—Å—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ–ª—Ñ–∏
- –û–±—â–µ–Ω–∏–µ —Å –¥–µ–≤—É—à–∫–∞–º–∏
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- UI/UX

–ò–∑–º–µ–Ω–∏–ª–∞—Å—å —Ç–æ–ª—å–∫–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤–∏–¥–µ–æ.

---

## üìù –õ–æ–≥–∏

–ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤—ã —É–≤–∏–¥–∏—Ç–µ:
```
üé¨ Starting Runway Gen-4 Turbo video generation...
   Model: gen4-turbo, Size: 720x1280, Duration: 4s
üóúÔ∏è Image compressed: 2450.5KB ‚Üí 785.2KB
[Runway] Request payload: {...}
[Runway] Got task ID: xxx-yyy-zzz
[Runway] Poll 1/120: status=processing, progress=15%
[Runway] Poll 5/120: status=processing, progress=75%
[Runway] Poll 8/120: status=succeeded, progress=100%
‚úÖ Video ready, downloading...
üì• Downloading video from URL...
‚úÖ Video downloaded: 8456234 bytes
üíæ –í–∏–¥–µ–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ –ë–î
```

---

## ‚ùì FAQ

### Q: –ù—É–∂–Ω–æ –ª–∏ —É–¥–∞–ª—è—Ç—å services_sora.py?
A: –ú–æ–∂–Ω–æ, –Ω–æ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ. –û–Ω –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è.

### Q: –†–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –±–µ–∑ RUNWAY_API_KEY?
A: –î–∞, –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω OPENAI_API_KEY –∫–∞–∫ fallback.

### Q: –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 8 —Å–µ–∫—É–Ω–¥?
A: –î–∞! –ò–∑–º–µ–Ω–∏—Ç–µ `duration=8` –≤ `main.py`.

### Q: –ú–æ–∂–Ω–æ –ª–∏ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –≤–∏–¥–µ–æ?
A: –î–∞! –ò–∑–º–µ–Ω–∏—Ç–µ `size="1280x720"` –≤ `main.py`.

### Q: –ì–¥–µ –ø–æ–ª—É—á–∏—Ç—å API –∫–ª—é—á?
A: https://app.runwayml.com/ ‚Üí Settings ‚Üí API Keys

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å —Ñ—É–Ω–∫—Ü–∏—è –≤–∏–¥–µ–æ **—Ä–∞–±–æ—Ç–∞–µ—Ç** —Å Runway Gen-4 Turbo!

**–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å:**
```bash
cd back
python start.py
```

–ó–∞—Ç–µ–º –≤ Telegram:
1. –°–æ–∑–¥–∞–π—Ç–µ —Å–µ–ª—Ñ–∏
2. –ù–∞–∂–º–∏—Ç–µ "üé¨ –í–∏–¥–µ–æ"
3. –ü–æ–ª—É—á–∏—Ç–µ —Ä–µ–∞–ª—å–Ω–æ–µ –≤–∏–¥–µ–æ! üé•‚ú®

---

**–í–µ—Ä—Å–∏—è**: 3.0.0  
**–î–∞—Ç–∞**: 10 –æ–∫—Ç—è–±—Ä—è 2025  
**API**: Runway Gen-4 Turbo  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç!


